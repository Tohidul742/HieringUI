<div *ngIf="loader" class="loader_position">
  <div class="flex justify-center">
      <p-progress-spinner strokeWidth="2" fill="transparent" [style]="{ width: '100px', height: '100px', }" />
  </div>
</div>
<div
  *ngIf="!loader"
  class="container-fluid p-0 d-flex justify-content-center align-items-center"
>
  <div class="dark-card d-flex justify-content-center align-items-center">
    <!-- <span class="text-white fw-semibold fs-5">AI Avatar based interview</span> -->
    <div class="container myAvatarContainer">
      <div class="container myAvatarVideoRootDiv d-flex justify-content-around">
        <div class="myAvatarVideo">
          <div id="myAvatarVideo" class="myVideoDiv" #videoDiv>
            <video class="myAvatarVideoElement" #myAvatarVideoEleRef></video>

            <audio #myAvatarAudioEleRef></audio>
          </div>
          <div class="myButtonGroup d-flex justify-content-around">
            <button
              class="btn btn-success"
              id="connectBtn"
              #connectBtn
              (click)="startSession()"
            >
              Connect
            </button>
            <button
              class="btn btn-danger"
              id="disconnectBtn"
              #disconnectBtn
              (click)="stopSession()"
            >
              Disconnect
            </button>
          </div>
        </div>

        <div class="myTextArea">
          <video id="userVid" #videoRef autoPlay muted></video>
          <h2 class="logsHeader">Your Transcript Will Appear Here</h2>
          <textarea
            id="myLogs"
            readOnly
            rows="10"
            cols="50"
            [value]="log"
            #textArea
          ></textarea>
        </div>
      </div>
      <div id="counter" #counter>
        <!-- <img
          src="../../../../../../../public/assets/png/clock.png"
          id="myClock"
        />
        <p id="seconds" #seconds></p> -->
        <!-- <app-circular-progress-bar2
          [totalTime]="totalTime"
          [remainingTime]="remainingTime"
        ></app-circular-progress-bar2> -->

        <div class="progress-bar-container" #progressBar>
          <!-- Circular Progress Bar -->
          <svg class="progress-circle" width="100" height="100" viewBox="0 0 36 36">
            <circle
              class="progress-background"
              cx="18"
              cy="18"
              r="16"
              fill="none"
              stroke="#444"
              stroke-width="2"
            ></circle>
            <circle
              class="progress-foreground"
              cx="18"
              cy="18"
              r="16"
              fill="none"
              [attr.stroke-dasharray]="circumference"
              [attr.stroke-dashoffset]="dashOffset"
              stroke="#00bfff"
              stroke-width="2"
              stroke-linecap="round"
            ></circle>
          </svg>

          <!-- Remaining Time Text -->
          <p class="progress-text" #seconds></p>
        </div>

      </div>
    </div>
  </div>
</div>
